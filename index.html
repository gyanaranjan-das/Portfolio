<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My JavaScript Portfolio</title>
  <script defer src="script.js"></script>
</head>
<body>
  <div id="app"></div>
  <script>
    const app = document.getElementById("app");

    // Basic Styles
    document.body.style.margin = "0";
    document.body.style.fontFamily = "Arial, sans-serif";
    document.body.style.backgroundColor = "#f4f4f4";
    document.body.style.color = "#333";

    // Loading Animation
    const loader = document.createElement("div");
    loader.textContent = "Loading...";
    loader.style.fontSize = "24px";
    loader.style.textAlign = "center";
    loader.style.marginTop = "20%";
    app.appendChild(loader);

    window.addEventListener("load", () => {
      setTimeout(() => {
        loader.remove();
        buildPortfolio();
      }, 1500);
    });

    function createSection(titleText) {
      const section = document.createElement("section");
      section.style.padding = "40px";
      section.style.borderBottom = "1px solid #ddd";

      const title = document.createElement("h2");
      title.textContent = titleText;
      title.style.fontSize = "32px";
      title.style.marginBottom = "20px";
      section.appendChild(title);

      return { section, title };
    }

    function buildPortfolio() {
      // Home Section
      const home = createSection("Home");
      const name = document.createElement("h1");
      name.textContent = "Gyan";
      name.style.fontSize = "48px";
      home.section.insertBefore(name, home.title);

      const tagline = document.createElement("p");
      tagline.textContent = "Aspiring Polymath | Full-Stack Dev | AI Explorer";
      home.section.appendChild(tagline);

      const typewriter = document.createElement("div");
      typewriter.style.fontSize = "24px";
      home.section.appendChild(typewriter);

      const skills = ["AI", "Quantum Computing", "JavaScript", "Python", "Java"];
      let skillIndex = 0;
      let charIndex = 0;

      function typeSkill() {
        if (charIndex <= skills[skillIndex].length) {
          typewriter.textContent = skills[skillIndex].slice(0, charIndex++);
          setTimeout(typeSkill, 150);
        } else {
          setTimeout(() => {
            charIndex = 0;
            skillIndex = (skillIndex + 1) % skills.length;
            typeSkill();
          }, 1000);
        }
      }
      typeSkill();

      app.appendChild(home.section);

      // About Section
      const about = createSection("About");
      about.section.appendChild(document.createTextNode(
        "I am a passionate Computer Science student exploring Artificial Intelligence, Quantum Computing, and futuristic technologies."
      ));
      app.appendChild(about.section);

      // Skills Section
      const skillsSec = createSection("Skills");
      const ul = document.createElement("ul");
      ["JavaScript", "Python", "Java", "OpenCV", "TensorFlow", "Qiskit"].forEach(skill => {
        const li = document.createElement("li");
        li.textContent = skill;
        ul.appendChild(li);
      });
      skillsSec.section.appendChild(ul);
      app.appendChild(skillsSec.section);

      // Projects Section
      const projects = createSection("Projects");
      const projectList = [
        { title: "EvoAI", desc: "Self-evolving desktop AI assistant.", link: "#" },
        { title: "HarmoniQ", desc: "AI-integrated music platform.", link: "#" },
      ];
      projectList.forEach(p => {
        const card = document.createElement("div");
        card.style.border = "1px solid #ccc";
        card.style.padding = "20px";
        card.style.marginBottom = "10px";
        const h3 = document.createElement("h3");
        h3.textContent = p.title;
        const pDesc = document.createElement("p");
        pDesc.textContent = p.desc;
        const a = document.createElement("a");
        a.href = p.link;
        a.textContent = "View Project";
        card.append(h3, pDesc, a);
        projects.section.appendChild(card);
      });
      app.appendChild(projects.section);

      // GitHub Stats Section
      const github = createSection("GitHub Stats");
      const githubInfo = document.createElement("div");
      githubInfo.textContent = "Fetching GitHub data...";
      github.section.appendChild(githubInfo);
      fetch("https://api.github.com/users/octocat")
        .then(res => res.json())
        .then(data => {
          githubInfo.textContent = `User: ${data.login}, Public Repos: ${data.public_repos}`;
        });
      app.appendChild(github.section);

      // Contact Section
      const contact = createSection("Contact");
      const form = document.createElement("form");
      ["Name", "Email", "Message"].forEach(label => {
        const input = document.createElement(label === "Message" ? "textarea" : "input");
        input.placeholder = label;
        input.style.display = "block";
        input.style.marginBottom = "10px";
        input.style.padding = "10px";
        input.style.width = "100%";
        form.appendChild(input);
      });
      const submit = document.createElement("button");
      submit.textContent = "Send";
      submit.onclick = (e) => {
        e.preventDefault();
        const [name, email, message] = form.querySelectorAll("input, textarea");
        console.log("Form Submitted:", {
          name: name.value,
          email: email.value,
          message: message.value,
        });
        alert("Message logged to console!");
      };
      form.appendChild(submit);
      contact.section.appendChild(form);
      app.appendChild(contact.section);

      // Footer
      const footer = document.createElement("footer");
      footer.style.textAlign = "center";
      footer.style.padding = "20px";
      footer.style.background = "#222";
      footer.style.color = "#fff";
      footer.textContent = "© 2025 Gyan | Follow me @gyan.dev";
      app.appendChild(footer);

      // Easter Egg
      let cheatCode = "gyan";
      let inputStr = "";
      document.addEventListener("keydown", e => {
        inputStr += e.key;
        if (inputStr.includes(cheatCode)) {
          alert("✨ Hidden Feature Activated!");
          inputStr = "";
        }
      });

      // Theme Toggle
      const toggleBtn = document.createElement("button");
      toggleBtn.textContent = "Toggle Theme";
      toggleBtn.style.position = "fixed";
      toggleBtn.style.top = "10px";
      toggleBtn.style.right = "10px";
      toggleBtn.onclick = () => {
        const isDark = document.body.style.backgroundColor === "#222";
        if (isDark) {
          document.body.style.backgroundColor = "#f4f4f4";
          document.body.style.color = "#333";
          localStorage.setItem("theme", "light");
        } else {
          document.body.style.backgroundColor = "#222";
          document.body.style.color = "#f4f4f4";
          localStorage.setItem("theme", "dark");
        }
      };
      document.body.appendChild(toggleBtn);

      if (localStorage.getItem("theme") === "dark") toggleBtn.click();
    }
  </script>
</body>
</html>
